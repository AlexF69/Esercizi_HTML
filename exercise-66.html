<!-- # Network Requests - Exercise 1 -> 66
Implementare il codice necessario per recuperare tramite una richiesta HTTP la lista dei todos presente al seguente 
url: https://jsonplaceholder.typicode.com/todos. Successivamente creare dinamicamente una lista di elementi (`<li>`) 
  contenente il titolo del todo (proprietÃ  `title` presente nella collezione di oggetti restituiti dalla response) 
  e appenderla all'elemento `.todo-list`.
N.B: il body della response contiene la lista dei todos in formato json, utilizzare il metodo `.json` presente nella 
response per eseguire la deserializzazione. 
-->


<html>
  <body>
    <div id="container">
      <ul class="todo-list">-----Lista Todos in UL----</ul>
    </div>
  </body>
</html>

<script>
  // code here - mi posiziono sul UL element a creo elemento  (`<li>`) 
  const ulEl = document.querySelector("ul"); // per cercare l'elemento ul per poi posizionarmi
// * function per recuperare il post presente all'interno del LocalStorage (salvato tramite l'esercizio precedente)
  let todos;  
  function getTodos() { // funzione per recuperare i todos da https 
     fetch("https://jsonplaceholder.typicode.com/todos")
    .then((response) => response.json()) // prendo il response con metodo json per 
    .then((response) => {
     todos = response; // metto tutto il response in var nuova todos[] array
// loop per ogni title degli oggetti che sono contenuti in array todos
          todos.forEach(function(element) { 
// creo nodo di tipo <li> elemento HTML ogni volta che leggo un testo title
            const newLiNode = document.createElement("li"); 
// valorizzo testo del nuovo <li> con title di turno
            newLiNode.innerText = element.title;
// aggiungo nuovo <li> dopo UL
            ulEl.append(newLiNode) // uso append ma potrei usare anche after??
            // ulEl.after(newLiNode)
          })
      // todos.forEach((ogetto) => console.log(ogetto.title)); // per ogni occorrenza results[]/todos[] ciclo in console.log 
      // console.log('lunghezza array todos', todos.length);  
    })
    .catch((err) => console.log("Errore in chiamata alla url dei todos", err)); // gestione errore con console.log
}
getTodos();

</script>
